</div>
<!-- untuk dari menu cloce card -->
</div>
<!-- untuk closing menu dari card body -->
</div>
<!-- untuk closing menu cal-md-12 -->
</div>
<!-- /.row (main row) -->
</div><!-- /.container-fluid -->
</section>
<!-- /.content -->
</div>
<!-- /.content-wrapper -->
<footer class="main-footer">
  <strong>Copyright &copy; 2014-2020</strong>
  All rights reserved.
  <div class="float-right d-none d-sm-inline-block">
    <b>Version</b> 3.0.5
  </div>
</footer>

<!-- Control Sidebar -->
<aside class="control-sidebar control-sidebar-dark">
  <!-- Control sidebar content goes here -->
</aside>
<!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->

<!-- jQuery -->
<!-- <script src="<?php echo base_url() ?>assets/admin/plugins/jquery/jquery.min.js"></script> -->
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script> -->
<script src="<?php echo base_url() ?>assets/new_js/js/jquery-3.5.1.js"></script>
<!-- <script src="https://code.jquery.com/jquery-3.5.1.js"></script> -->
<!-- jQuery UI 1.11.4 -->
<script src="<?php echo base_url() ?>assets/admin/plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="<?php echo base_url() ?>assets/admin/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="<?php echo base_url() ?>assets/admin/plugins/chart.js/Chart.min.js"></script>
<!-- Sparkline -->
<!-- <script src="<?php echo base_url() ?>assets/admin/plugins/sparklines/sparkline.js"></script> -->
<!-- JQVMap -->
<script src="<?php echo base_url() ?>assets/admin/plugins/jqvmap/jquery.vmap.min.js"></script>
<script src="<?php echo base_url() ?>assets/admin/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
<!-- jQuery Knob Chart -->
<script src="<?php echo base_url() ?>assets/admin/plugins/jquery-knob/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="<?php echo base_url() ?>assets/admin/plugins/moment/moment.min.js"></script>
<script src="<?php echo base_url() ?>assets/admin/plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="<?php echo base_url() ?>assets/admin/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- select2 -->
<script src="<?php echo base_url() ?>assets/admin/plugins/select2/js/select2.min.js"></script>
<!-- Summernote -->
<script src="<?php echo base_url() ?>assets/admin/plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="<?php echo base_url() ?>assets/admin/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>


<!-- <script src="<?php echo base_url() ?>assets/scanner/js/instascan.min.js"></script> -->
<!-- <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script> -->


<!-- DataTables -->
<!-- <script src="<?php echo base_url() ?>assets/admin/plugins/datatables/jquery.dataTables.min.js"></script> -->

<!-- <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script> -->
<script src="<?php echo base_url() ?>assets/datatables/1.10.21/js/jquery.dataTables.min.js"></script>

<!-- <script src="<?php echo base_url() ?>assets/admin/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script> -->
<script src="<?php echo base_url() ?>assets/datatables/1.10.21/js/dataTables.bootstrap4.min.js"></script>

<script src="<?php echo base_url() ?>assets/admin/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="<?php echo base_url() ?>assets/admin/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
<!-- AdminLTE App -->
<script src="<?php echo base_url() ?>assets/admin/dist/js/adminlte.js"></script>

<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<!-- <script src="<?php echo base_url() ?>assets/admin/dist/js/pages/dashboard.js"></script> -->
<!-- AdminLTE for demo purposes -->
<!-- <script src="<?php echo base_url() ?>assets/admin/dist/js/demo.js"></script> -->
<!-- datatable -->
<!-- <script src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js"></script> -->
<script src="<?php echo base_url() ?>assets/buttons/1.6.2/js/dataTables.buttons.min.js"></script>
<!-- <script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.bootstrap4.min.js"></script> -->
<script src="<?php echo base_url() ?>assets/buttons/1.6.2/js/buttons.bootstrap4.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<!-- <script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script> -->
<script src="<?php echo base_url() ?>assets/buttons/1.6.2/js/buttons.html5.min.js"></script>
<!-- <script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js"></script> -->
<script src="<?php echo base_url() ?>assets/buttons/1.6.2/js/buttons.print.min.js"></script>
<!-- <script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.colVis.min.js"></script> -->
<script src="<?php echo base_url() ?>assets/buttons/1.6.2/js/buttons.colVis.min.js"></script>


<!-- <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="http://code.highcharts.com/highcharts.js"></script>
<script type="text/javascript" src="http://code.highcharts.com/modules/exporting.js"></script>
<script type="text/javascript" src="http://code.highcharts.com/highcharts-3d.js"></script> -->
<!-- batas data -->

<script>
  $('#example1').DataTable({
    responsive: true,
    autoWidth: false
    // "scrollX": true
  });
  $('#example2').DataTable({
    responsive: false,
    // "autoWidth": false
    scrollX: true
  });
  $('#reservationdate').datetimepicker({
    format: 'YYYY-MM-DD H:m:s',
  });
  $('#reservationdate1').datetimepicker({
    format: 'YYYY-MM-DD',
  });
  $('.form_date').datetimepicker({
    language: 'id',
    weekStart: 1,
    todayBtn: 1,
    autoclose: 1,
    todayHighlight: 1,
    startView: 2,
    minView: 2,
    forceParse: 0
  });
</script>
<script>
  $('#tanggalan').datetimepicker({
    format: 'YYYY-MM-DD H:m:s',
  });
</script>
<script>
  $('#tanggalan2').datetimepicker({
    format: 'YYYY-MM-DD H:m:s',
  });
</script>

<!-- batas awal route mesins -->
<?php if ($this->uri->segment(1) == 'tiket_premise' || $this->uri->segment(1) == 'Tiket-Premise' || $this->uri->segment(1) == 'Tiket-Pre-Edit') : ?>
  <script>
    var tablet = $("#tiket_premise").DataTable({
      paging: true,
      responsive: true,
      autoWidth: false,
      // "scrollX": true
      dom: 'Bfrtip',
      // buttons: ['copy', 'csv', 'excel', 'pdf', 'print']
      buttons: ['csv', 'excel', 'pdf', 'colvis']
    });
    tablet.buttons().container().appendTo('#tiket_premise .col-sm-6:eq(0)');
  </script>
<?php endif; ?>
<?php if ($this->uri->segment(1) == 'Tiket-Premise-Cur' || $this->uri->segment(1) == 'Tiket_premise') : ?>
  <script>
    var tablet = $("#tiket_premise").DataTable({
      paging: true,
      responsive: true,
      autoWidth: false,
      // "scrollX": true
      dom: 'Bfrtip',
      // buttons: ['copy', 'csv', 'excel', 'pdf', 'print']
      buttons: ['csv', 'excel', 'pdf', 'colvis']
    });
    tablet.buttons().container().appendTo('#tiket_premise .col-sm-6:eq(0)');
  </script>

<?php endif; ?>

<?php if ($this->uri->segment(1) == 'Verifpremis') : ?>
  <script>
    var tablet = $("#tiket_verif").DataTable({
      paging: true,
      responsive: true,
      autoWidth: false,
      // "scrollX": true
      dom: 'Bfrtip',
      // buttons: ['copy', 'csv', 'excel', 'pdf', 'print']
      buttons: ['csv', 'excel', 'pdf', 'colvis']
    });
    tablet.buttons().container().appendTo('#tiket_verif .col-sm-6:eq(0)');
  </script>

<?php endif; ?>

<!-- verif briiit -->
<?php if ($this->uri->segment(1) == 'Verifikasi2') : ?>
  <script>
  const urlVerifBriit = '<?= site_url("Verifikasi2/") ?>';
    let table;

    $(function() {
      if (!$.fn.DataTable.isDataTable('#tiket_verifB')) {
            table = $('#tiket_verifB').DataTable({
                responsive: true,
                processing: true,
                serverSide: true,
                order: [],
                scrollX: false,
                ajax: {
                    url: urlVerifBriit + 'listVerifBriit',
                    type: "POST"
                },
                columnDefs: [{
                    targets: [0, -1],
                    orderable: false,
                }, ],
            });
        }
    });
</script>
<?php endif; ?>

<!-- --------------------------------------------------------------------- -->
<!-- verif briiit -->
<?php if ($this->uri->segment(1) == 'Verifikasi3') : ?>
<script>
   const urlLaporanpremis = '<?= site_url("Verifikasi3/dataPremise") ?>';

   $(function() {
        $('.select2').select2();
    })

   $('#viewLapPremise').on('click', function(e) {
        e.preventDefault();

        let tglstart      = $('#tglstart').val();
        let tglend        = $('#tglend').val();
        let tiket_num     = $('#tiket_num').val();
        let idmesin       = $('#idmesin').val();
        let idstatus      = $('#idstatus').val();
        let idkanwil      = $('#idkanwil').val();

        let table = $('#dataPremise').DataTable({
            processing: true,
            responsive: false,
            serverSide: true,
            destroy: true,
            order: [],
            scrollX: true,
            columnDefs: [{
                targets: [0, -1],
                orderable: true,
            }, ],
            ajax: {
                type: "POST",
                url: urlLaporanpremis,
                data: {
                    tglstart: tglstart,
                    tglend: tglend,
                    idmesin: idmesin,
                    tiket_num: tiket_num,
                    idstatus: idstatus,
                    idkanwil: idkanwil,
                },
                dataType: "JSON"
            },
        });
    })
</script>
<?php endif; ?>
<!-- --------------------------------------------------------------------- -->
<?php if ($this->uri->segment(1) == 'absensi') : ?>



  <script type="text/javascript">
    var arg = {
      resultFunction: function(result) {
        //$('.hasilscan').append($('<input name="noijazah" value=' + result.code + ' readonly><input type="submit" value="Cek"/>'));
        // $.post("../cek.php", { noijazah: result.code} );
        // var redirect = '../absen/absen.php';
        // $.redirectPost(redirect, {
        //   id: result.code
        // });
      }
    };

    var decoder = $("canvas").WebCodeCamJQuery(arg).data().plugin_WebCodeCamJQuery;
    decoder.buildSelectMenu("select");
    decoder.play();
    /*  Without visible select menu
        decoder.buildSelectMenu(document.createElement('select'), 'environment|back').init(arg).play();
    */
    $('select').on('change', function() {
      decoder.stop().play();
    });

    // jquery extend function
    $.extend({
      redirectPost: function(location, args) {
        var form = '';
        $.each(args, function(key, value) {
          form += '<input type="hidden" name="' + key + '" value="' + value + '">';
        });
        $('<form action="' + location + '" method="POST">' + form + '</form>').appendTo('body').submit();
      }
    });
  </script>

<?php endif; ?>
<!-- --------------------------------------------------------------------- -->
<?php if ($this->uri->segment(1) == 'laporan') : ?>
  <!-- <script src="<?php echo base_url() ?>assets/qr/qrcodelib.js"></script>
  <script src="<?php echo base_url() ?>assets/qr/webcodecamjquery.js"></script> -->
  <script>
    $(document).ready(function() {
      $('#btn_cetakin').on('click', function() {
        var tid = $('#tid').val();
        var tiket = $('#tiket').val();
        var from_date = $('#from_date').val();
        var to_date = $('#to_date').val();
        var status = $('#status').val();

        $.ajax({
          type: "POST",
          url: '<?= base_url('laporan/cetak_laporan') ?>',
          data: {
            tid: tid,
            tiket: tiket,
            from_date: from_date,
            to_date: to_date,
            status: status
          },
          success: function(data) {
            // window.open
            // $('[name="tid"]').val("");
            // $('[name="tiket"]').val("");
            // $('[name="from_date"]').val("");
            // $('[name="to_date"]').val("");
            // $('[name="status"]').val("");
          }
        });
        return false;
      });



      $('#from_date').datetimepicker({
        format: 'YYYY-MM-DD',
      });

      $('#to_date').datetimepicker({
        format: 'YYYY-MM-DD',
      });
      $('#laporan').DataTable({
        responsive: true,
        // "autoWidth": false
        scrollX: true
      });

    });
  </script>
  <!--  <script>
    $("#btn_cetak").on('click', function () {
              
              $.ajax({
                url: '<?php echo base_url(); ?>laporan/cetak_laporan',
                data: {
                  var tid=$('#tid').val();
                  var tiket=$('#tiket').val();
                  var from_date=$('#from_date').val();
                  var to_date=$('#to_date').val();
                  var staus=$('#status').val();
                },
                async: 'true',
                cache: 'false',
                type: 'post',
                success: function (data) {
                  //jQuery("#attendence_report_holder").html(response);
                  alert("Data successfully added");
                },
                error:function(data){
                  alert("error happend");
                }
              });
            });
  </script> -->
  <!--  <script>
  var tablet = $('#laporan').DataTable({
      paging: true,
      responsive: true,
      autoWidth: false,
      // "scrollX": true
      dom: 'Bfrtip',
      // buttons: ['copy', 'csv', 'excel', 'pdf', 'print']
      buttons: [ 'csv', 'excel', 'pdf', 'colvis' ]
      });
  tablet.buttons().container().appendTo('#laporan .col-sm-6:eq(0)' );
</script> -->
<?php endif; ?>
<!-- --------------------------------------------------------------------------------------------------------- -->
<?php if ($this->uri->segment(1) == 'Laporancrm') : ?>
  <!-- <script src="<?php echo base_url() ?>assets/qr/qrcodelib.js"></script>
  <script src="<?php echo base_url() ?>assets/qr/webcodecamjquery.js"></script> -->
  <script>
    $(document).ready(function() {
      $('#btn_cetakin').on('click', function() {
        var tid = $('#tid').val();
        var tiket = $('#tiket').val();
        var from_date = $('#from_date').val();
        var to_date = $('#to_date').val();
        var status = $('#status').val();

        $.ajax({
          type: "POST",
          url: '<?= base_url('laporan/cetak_laporan') ?>',
          data: {
            tid: tid,
            tiket: tiket,
            from_date: from_date,
            to_date: to_date,
            status: status
          },
          success: function(data) {
            // window.open
            // $('[name="tid"]').val("");
            // $('[name="tiket"]').val("");
            // $('[name="from_date"]').val("");
            // $('[name="to_date"]').val("");
            // $('[name="status"]').val("");
          }
        });
        return false;
      });



      $('#from_date').datetimepicker({
        format: 'YYYY-MM-DD',
      });

      $('#to_date').datetimepicker({
        format: 'YYYY-MM-DD',
      });
      $('#laporan').DataTable({
        responsive: true,
        scrollX: true
      });

    });
  </script>
<?php endif; ?>
<!-- --------------------------------------------------------------------------------------------------------- -->
<?php if ($this->uri->segment(1) == 'cetak_lap') : ?>
  <script>
    $(document).ready(function() {
      $('#btn_cetak').on('click', function() {
        var tid = $('#tid').val();
        var tiket = $('#tiket').val();
        var from_date = $('#from_date').val();
        var to_date = $('#to_date').val();
        var status = $('#status').val();

        $.ajax({
          type: "POST",
          // url  : "<?php echo site_url('laporan/cetak_laporan') ?>",
          url: '<?= base_url('cetak_lap/cetak_laporan') ?>',
          data: {
            tid: tid,
            tiket: tiket,
            from_date: from_date,
            to_date: to_date,
            status: status
          },
          success: function(data) {
            // $('[name="tid"]').val("");
            // $('[name="tiket"]').val("");
            // $('[name="from_date"]').val("");
            // $('[name="to_date"]').val("");
            // $('[name="status"]').val("");
          }
        });
        return false;
      });



      $('#from_date').datetimepicker({
        format: 'YYYY-MM-DD',
      });

      $('#to_date').datetimepicker({
        format: 'YYYY-MM-DD',
      });
      $('#laporan').DataTable({
        responsive: true,
        // "autoWidth": false
        scrollX: true
      });

    });
  </script>
<?php endif; ?>


<?php if ($this->uri->segment(1) == 'trxkomplain') : ?>
  <script>
    $(document).ready(function() {
      $("#komplain").DataTable({
        "responsive": false,
        // "autoWidth": false
        "scrollX": true
      });
    });
  </script>
<?php endif; ?>

<?php if ($this->uri->segment(1) == 'dash_komkanca') : ?>
  <script>
    $(document).ready(function() {

      $("#dashkanca").DataTable({
        "responsive": false,
        // "autoWidth": false
        "scrollX": true
      });
    });
  </script>
<?php endif; ?>

<?php if ($this->uri->segment(1) == 'tiket_bulkflm') : ?>
  <script>
    $(document).ready(function() {
      // Sembunyikan alert validasi kosong
      $("#kosong").hide();
    });
  </script>
<?php endif; ?>

<!-- --------------------------------------------------------------------------------------------------------- -->
<?php if ($this->uri->segment(1) == 'qrcode') : ?>
  <script src="<?php echo base_url() ?>assets/qrcode/qrcode.min.js"></script>
  <script>
    function generateqr() {
      var qrcode = new QRCode(document.getElementById("qrcode"), {
        text: "<?php echo base_url() ?>scanabsen/absensi/<?= $this->session->userdata('id_user'); ?>",
        width: 250,
        height: 250,
        colorDark: "#0f324a",
        colorLight: "#ffffff",
        correctLevel: QRCode.CorrectLevel.H
      });
    }
  </script>
<?php endif; ?>
<!-- ------------------------------------------------------------------------------------------------------- -->
<?php if ($this->uri->segment(1) == 'trxpremisedone') : ?>
  <script>
    var tablet = $("#tiket_close").DataTable({
      paging: true,
      responsive: true,
      autoWidth: false,
      // "scrollX": true
      dom: 'Bfrtip',
      // buttons: ['copy', 'csv', 'excel', 'pdf', 'print']
      buttons: ['csv', 'excel', 'pdf', 'colvis']
    });
    tablet.buttons().container().appendTo('#tiket_close .col-sm-6:eq(0)');
  </script>
<?php endif; ?>
<!-- -- -------------------------------------------------------------------------------------------------------------- -->
<?php if ($this->uri->segment(1) == 'kiosk') : ?>
  <script>
    $(document).ready(function() {
      function startTime() {
        var today = new Date();
        var h = today.getHours();
        var m = today.getMinutes();
        var s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        document.getElementById('jam').innerHTML =
          h + ":" + m + ":" + s;
        var t = setTimeout(startTime, 500);
      }

      function checkTime(i) {
        if (i < 10) {
          i = "0" + i
        }; // add zero in front of numbers < 10
        return i;
      }
      var months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
      var myDays = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&#39;at', 'Sabtu'];
      var date = new Date();
      var day = date.getDate();
      var month = date.getMonth();
      var thisDay = date.getDay(),
        thisDay = myDays[thisDay];
      var yy = date.getYear();
      var year = (yy < 1000) ? yy + 1900 : yy;
      document.getElementById('tgl').innerHTML = thisDay + ', ' + day + ' ' + months[month] + ' ' + year;

      startTime();

      // let scanner = new Instascan.Scanner({
      //     video: document.getElementById('preview')
      // });
      // scanner.addListener('scan', function(content){
      //     alert(content);
      // });
      // Instascan.Camera.getCameras().then(function(cameras){
      //     if (cameras.lenght > 0) {
      //         scanner.start(cameras[0]);          
      //     } else {
      //       console.error('No cameras found'.);
      //     }
      //   }).catch(function(e){
      //       console.error(e); 
      // });
    });
  </script>
<?php endif; ?>
<!-- batas awal route mesins -->
<?php if ($this->uri->segment(1) == 'mesins' || $this->uri->segment(1) == 'mesins-delete') : ?>
  <script>
    $('#idkanwil').change(function() {
      var id = $(this).val();
      if (idkanwil != '') {
        $.ajax({
          url: "<?php echo base_url(); ?>mapping/fetch_map",
          method: "POST",
          data: {
            id: id
          },
          // async : true,
          // dataType : 'json',
          success: function(data) {

            // var html = '';
            // var i;
            // for(i=0; i<data.length; i++){
            //     html += '<option value='+data[i].idmap+'>'+data[i].nama_mapping+'</option>';
            // }
            $('#idmap').html(data);
            // $('#kelola').html('<option value="">Pilih Kelolan</option>');
          }
        });
        return false;
      } else {
        $('#idmap').html('<option value="">Pilih Kelola</option>');
        $('#kelola').html('<option value="">Select City</option>');
      }

    });
  </script>
  <script>
    $('#idmerk').change(function() {
      var id = $(this).val();
      if (idmerk != '') {
        $.ajax({
          url: "<?php echo base_url(); ?>merk/fetch_merk",
          method: "POST",
          data: {
            id: id
          },
          // async : true,
          // dataType : 'json',
          success: function(data) {

            $('#idtype').html(data);
          }
        });
        return false;
      } else {

      }

    });
  </script>


  <script>
    $('#idmap').change(function() {
      var id = $(this).val();
      $.ajax({
        url: "<?php echo base_url(); ?>mesins/get_kelola",
        method: "POST",
        data: {
          id: id
        },
        async: true,
        dataType: 'json',
        success: function(data) {

          var html = '';
          var i;
          for (i = 0; i < data.length; i++) {
            html += '<option value=' + data[i].idkelola + '>' + data[i].nama_kelola + '</option>';
          }
          $('#kelola').html(html);

        }
      });
      return false;
    });
  </script>
  <script>
    var tablet = $("#data_mesin").DataTable({
      paging: true,
      responsive: true,
      autoWidth: false,
      // "scrollX": true
      dom: 'Bfrtip',
      // buttons: ['copy', 'csv', 'excel', 'pdf', 'print']
      buttons: ['csv', 'excel', 'pdf', 'colvis']
    });
    tablet.buttons().container().appendTo('#data_mesin .col-sm-6:eq(0)');
  </script>
  <script>
    $('#teknis').select2({
      ajax: {
        url: '<?= base_url() ?>mesins/get_teknis',
        type: 'POST',
        dataType: 'json',
        delay: 250,
        data: function(params) {
          return {
            searchServ: params.term
          }
        },
        processResults: function(response) {
          return {
            results: response
          };
        },
        cache: true
      },
      escapeMarkup: function(markup) {
        return markup;
      }, // let our custom formatter work
      minimumInputLength: 2,
    });
  </script>
  <script>
    $('#teknisi').select2({
      ajax: {
        url: '<?= base_url() ?>mesins/get_teknis',
        type: 'POST',
        dataType: 'json',
        delay: 250,
        data: function(params) {
          return {
            searchServ: params.term
          }
        },
        processResults: function(response) {
          return {
            results: response
          };
        },
        cache: true
      },
      escapeMarkup: function(markup) {
        return markup;
      }, // let our custom formatter work
      minimumInputLength: 2,
    });
  </script>
  <!--  <script>
      $('#idmap').change(function(){ 
          var id=$(this).val();
          $.ajax({
              url : "<?php echo site_url('kelola/get_kelola'); ?>",
              method : "POST",
              data : {id: id},
              async : true,
              dataType : 'json',
              success: function(data){
                  
                  $('#idkelola').html(html);

              }
          });
          return false;
      });  
  </script>    -->
<?php endif; ?>
<!-- batas mesin edit--------------------------------------------------------------------------------------------------------------------- -->
<?php if ($this->uri->segment(1) == 'mesins-edit') : ?>

  <script>
    $('#idkanwil1').change(function() {
      var id = $(this).val();
      if (id != '') {
        $.ajax({
          url: "<?php echo base_url(); ?>mapping/fetch_map",
          method: "POST",
          data: {
            id: id
          },

          success: function(data) {

            // var html = '';
            // var i;
            // for(i=0; i<data.length; i++){
            //     html += '<option value='+data[i].idmap+'>'+data[i].nama_mapping+'</option>';
            // }
            $('#idmap1').html(data);
            $('#edkelola').html('<option value="">Pilih Kelola</option>');
          }
        });
        return false;
      } else {
        $('#idmap1').html('<option value="">Pilih Mapping</option>');
        $('#edkelola').html('<option value="">Pilih Kelola</option>');
      }

    });
  </script>
  <script>
    $('#idmap1').change(function() {
      var id = $(this).val();
      $.ajax({
        url: "<?php echo site_url('mesins/get_kelola1'); ?>",
        method: "POST",
        data: {
          id: id
        },
        // async : true,
        // dataType : 'json',
        success: function(data) {

          // var html = '';
          // var i;
          // for(i=0; i<data.length; i++){
          //     html += '<option value='+data[i].idkelola+'>'+data[i].nama_kelola+'</option>';
          // }
          $('#edkelola').html(data);

        }
      });
      return false;
    });
  </script>
  <script>
    $('#idmerk_ed').change(function() {
      var id = $(this).val()
      if (id != '') {
        $.ajax({
          url: "<?php echo base_url(); ?>type/fetch_types",
          method: "POST",
          data: {
            id: id
          },

          success: function(data) {

            // var html = '';
            // var i;
            // for(i=0; i<data.length; i++){
            //     html += '<option value='+data[i].idmap+'>'+data[i].nama_mapping+'</option>';
            // }
            $('#idtype_ed').html(data);
            // $('#edkelola').html('<option value="">Pilih Kelola</option>');
          }
        });
        return false;
      } else {
        $('#idtype_ed').html('<option value="">Pilih Mapping</option>');
        // $('#edkelola').html('<option value="">Pilih Kelola</option>');
      }

    });
  </script>
<?php endif; ?>
<?php if ($this->uri->segment(1) == 'tiket_komplain') : ?>
  <script>
    $("#komplain").DataTable({
      "responsive": true,
      "autoWidth": false
      // "scrollX": true
    });
  </script>
<?php endif; ?>

<?php if ($this->uri->segment(1) == 'dasher') : ?>
  <script type="text/javascript">
    $(document).ready(function() {
      $(".btn_tiketnot").click(function() {
        var el = $(this);
        var idsr = $(this).closest('tr').attr('id');
        $.ajax({
          type: 'get',
          url: "<?php echo site_url(); ?>tiket_komplain/get_tktopen/",
          data: 'idsr=' + idsr,
          error: function(jqXHR, textStatus, errorThrown) {
            alert('Ada Error');
          },
          success: function(data) {
            console.log(data)
            $('.isi-modal').html(data)
            $('#modaltktopenDetail').modal('show')
          }
        })

      });

      $(".btn_lowres").click(function() {
        var el = $(this);
        // var idsr  = $(this).closest('tr').attr('id');
        $.ajax({
          type: 'POST',
          url: "<?php echo site_url(); ?>tiket_komplain/get_lowres5/",
          // data : 'idsr='+idsr,
          error: function(jqXHR, textStatus, errorThrown) {
            alert('Ada Error');
          },
          success: function(data) {
            console.log(data)
            $('.isilow-modal').html(data)
            $('#modal-lowrespon').modal('show')
          }
        })

      });

      $(".btn_repeat").click(function() {
        var el = $(this);
        // var idsr  = $(this).closest('tr').attr('id');
        $.ajax({
          type: 'POST',
          url: "<?php echo site_url(); ?>tiket_komplain/get_repeat5/",
          // data : 'idsr='+idsr,
          error: function(jqXHR, textStatus, errorThrown) {
            alert('Ada Error');
          },
          success: function(data) {
            console.log(data)
            $('.isirepeat-modal').html(data)
            $('#modal-repeat').modal('show')
          }
        })

      });
      $(".btn_top5").click(function() {
        var el = $(this);
        // var idsr  = $(this).closest('tr').attr('id');
        $.ajax({
          type: 'POST',
          url: "<?php echo site_url(); ?>tiket_komplain/get_top5/",
          // data : 'idsr='+idsr,
          error: function(jqXHR, textStatus, errorThrown) {
            alert('Ada Error');
          },
          success: function(data) {
            console.log(data)
            $('.isitop5-modal').html(data)
            $('#modal-top5').modal('show')
          }
        })

      });

      $(".btn_tiketclr").click(function() {
        var el = $(this);
        var idsr = $(this).closest('tr').attr('id');
        $.ajax({
          type: 'POST',
          url: "<?php echo site_url(); ?>tiket_komplain/get_repeat_cbg/",
          data: 'idsr=' + idsr,
          error: function(jqXHR, textStatus, errorThrown) {
            alert('Ada Error');
          },
          success: function(data) {
            console.log(data)
            $('.isirepeat-modal').html(data)
            $('#modal-repeat-cbg').modal('show')
          }
        })
      });
    });
  </script>
  <script type="text/javascript">
    $("#data_komplain").DataTable({
      "responsive": false,
      // "autoWidth": false
      "scrollX": true
    });
  </script>

<?php endif; ?>
<!-- batas awal route dashboard --------------------------------------------------------------------------------------------------------------------->
<?php if ($this->uri->segment(1) == 'dashboard') : ?>
  <script type="text/javascript">
    $(document).ready(function() {
      $('#btn_total').click(function() {
        var el = $(this);
        var uker = $(this).closest('tr').attr('id');

        $.ajax({
          type: 'get',
          url: "<?php echo site_url(); ?>/dashboard/get_list_tiket/",
          data: 'uker=' + uker,
          error: function(jqXHR, textStatus, errorThrown) {
            alert('Ada Error');
          },
          success: function(data) {
            console.log(data)
            $('.isi-modal').html(data)
            $('#modal-onprogres').modal('show')
          }
        });
      });

    });
  </script>
  <script>
    $("#data_mesin").DataTable({
      "responsive": true,
      "autoWidth": false
      // "scrollX": true
    });
  </script>

<?php endif; ?>

<?php if ($this->uri->segment(2) == 'dashboarding') : ?>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.btn_tktclose').click(function() {

      });
    });
  </script>
<?php endif; ?>
<!-- batas akhir route dashboard 

  --------------------------------------------------------------------------------------------------------------------->

<!-- <?php if ($this->uri->segment(1) == 'trxpremisedone') : ?>
  <script>
    $("#tiket_close").DataTable({
      "responsive": true,
      "autoWidth": false
      // "scrollX": true
    });
  </script>
<?php endif; ?> -->
<!-- batas akhir route mesin --------------------------------------------------------------------------------------------------------------------->

<?php if ($this->uri->segment(1) == 'laporan_atm') : ?>
  <script type="text/javascript">
    $('#cari').click(function() {
      $.ajax({
        type: 'post',
        url: '<?= base_url('laporan_atm/list_laporan_atm/false') ?>',
        data: $('#form_laporan_atm').serialize(),

        success: function(data) {
          $('#ajax-loader').hide();
          $('#result').html(data);
        }
      });
    });
    $('#from_date').datetimepicker({
      format: 'YYYY-MM-DD',
    });
    $('#to_date').datetimepicker({
      format: 'YYYY-MM-DD',
    });
    $('#row-pagging a').not('.except').off().click(function(e) {
      $.ajax({
        type: 'post',
        url: $(this).attr('href'),
        data: 'mt=1&' + $('#form_laporan_atm').serialize(),
        success: function(data) {
          $('#result').html(data);
          $('#ajax-loader').hide();
        }
      });
      e.preventDefault();
    });
  </script>
<?php endif; ?>

<?php if ($this->uri->segment(1) == 'Tiket-Premise' || $this->uri->segment(1) == 'Tiket-Premise-Delete') : ?>

<?php endif; ?>

<?php if ($this->uri->segment(1) == 'trxpremise' || $this->uri->segment(1) == 'TRX-Premise') : ?>
  <script type="text/javascript">
    //Timepicker  
    $('#timepicker').datetimepicker({
      format: 'H:m'
    })

    $('#reservationdate2').datetimepicker({
      format: 'YYYY-MM-DD',
    });
  </script>
<?php endif; ?>

<?php if ($this->uri->segment(1) == 'trxkomplain') : ?>
  <script type="text/javascript">
    //Timepicker  
    $('#timepicker').datetimepicker({
      format: 'H:m'
    })

    $('#reservationdate2').datetimepicker({
      format: 'YYYY-MM-DD',
    });
  </script>
<?php endif; ?>


<?php if ($this->uri->segment(1) == 'Kelola' || $this->uri->segment(1) == 'Kelola-Edit' || $this->uri->segment(1) == 'Kelola-Delete') : ?>
  <script>
    $(document).ready(function() {
      // form tambah
      $('#dpkanwil').change(function() {
        var id = $(this).val();
        $.ajax({
          url: "<?php echo site_url('mesins/get_maps'); ?>",
          method: "POST",
          data: {
            id: id
          },
          async: true,
          dataType: 'json',
          success: function(data) {

            var html = '';
            var i;
            for (i = 0; i < data.length; i++) {
              html += '<option value=' + data[i].idmap + '>' + data[i].nama_mapping + '</option>';
            }
            $('#uker').html(html);

          }
        });
        return false;
      });
      // form edit
      $('#det_idkanwil').change(function() {
        var id = $(this).val();
        $.ajax({
          url: "<?php echo site_url('mesins/get_maps'); ?>",
          method: "POST",
          data: {
            id: id
          },
          async: true,
          dataType: 'json',
          success: function(data) {

            var html = '';
            var i;
            for (i = 0; i < data.length; i++) {
              html += '<option value=' + data[i].idmap + '>' + data[i].nama_mapping + '</option>';
            }
            $('#det_idmap').html(html);

          }
        });
        return false;
      });

      $('#uker').select2({
        ajax: {
          url: '<?= base_url() ?>mapping/get_data_mapping',
          type: 'POST',
          dataType: 'json',
          delay: 250,
          data: function(params) {
            return {
              searchTerm: params.term
            }
          },
          processResults: function(response) {
            return {
              results: response
            };
          },
          cache: true
        },
        escapeMarkup: function(markup) {
          return markup;
        }, // let our custom formatter work
        minimumInputLength: 2,
      });


    });
  </script>
<?php endif; ?>
</body>

</html>